<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1212px" preserveAspectRatio="none" style="width:1063px;height:1212px;" version="1.1" viewBox="0 0 1063 1212" width="1063px" zoomAndPan="magnify"><defs><filter height="300%" id="f2l9gwn4sx6dv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5F5F5" height="1197.8691" style="stroke: #A80036; stroke-width: 1.0;" width="553" x="482" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="696" y="16.5684">ARDOR Blockchain</text><rect fill="#FFFFFF" filter="url(#f2l9gwn4sx6dv)" height="604.8555" style="stroke: #000000; stroke-width: 2.0;" width="737" x="158" y="173.4199"/><rect fill="#FFFFFF" filter="url(#f2l9gwn4sx6dv)" height="193.1738" style="stroke: #000000; stroke-width: 2.0;" width="707" x="178" y="197.7305"/><rect fill="#FFFFFF" height="88.9316" style="stroke: none; stroke-width: 1.0;" width="707" x="178" y="301.9727"/><rect fill="#FFFFFF" filter="url(#f2l9gwn4sx6dv)" height="205.8184" style="stroke: #000000; stroke-width: 2.0;" width="248" x="168" y="491.8359"/><rect fill="#FFFFFF" filter="url(#f2l9gwn4sx6dv)" height="116.8867" style="stroke: #000000; stroke-width: 2.0;" width="226" x="178" y="573.7676"/><rect fill="#FFFFFF" height="57.2656" style="stroke: none; stroke-width: 1.0;" width="226" x="178" y="633.3887"/><rect fill="#FFFFFF" filter="url(#f2l9gwn4sx6dv)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="199" x="178" y="711.6543"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="57" x2="57" y1="58.7988" y2="1163.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="255" x2="255" y1="58.7988" y2="1163.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="538" x2="538" y1="58.7988" y2="1163.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="668" x2="668" y1="58.7988" y2="1163.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="811" x2="811" y1="58.7988" y2="1163.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="958" x2="958" y1="58.7988" y2="1163.3809"/><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="23" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="30" y="43.8457">Verifier</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="23" y="1162.3809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="30" y="1182.916">Verifier</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="203" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="210" y="43.8457">DID Resolver</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="203" y="1162.3809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="210" y="1182.916">DID Resolver</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="501" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="508" y="43.8457">Account</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="501" y="1162.3809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="508" y="1182.916">Account</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="615" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="622" y="43.8457">New Account</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="615" y="1162.3809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="622" y="1182.916">New Account</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="762" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="769" y="43.8457">Tx Resolver</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="762" y="1162.3809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="769" y="1182.916">Tx Resolver</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="900" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="907" y="43.8457">Cloud Storage</text><rect fill="#FEFECE" filter="url(#f2l9gwn4sx6dv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="900" y="1162.3809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="907" y="1182.916">Cloud Storage</text><polygon fill="#A80036" points="243,86.1094,253,90.1094,243,94.1094,247,90.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="249" y1="90.1094" y2="90.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="64" y="85.3672">read DID (did:bba:&lt;txh_d&gt;)</text><rect fill="#EEEEEE" filter="url(#f2l9gwn4sx6dv)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1048" x="3" y="143.7646"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1051" y1="143.7646" y2="143.7646"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1051" y1="146.7646" y2="146.7646"/><rect fill="#EEEEEE" filter="url(#f2l9gwn4sx6dv)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="175" x="439.5" y="133.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="445.5" y="149.6777">DID Attestation Parsing</text><path d="M158,173.4199 L232,173.4199 L232,180.4199 L222,190.4199 L158,190.4199 L158,173.4199 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="604.8555" style="stroke: #000000; stroke-width: 2.0;" width="737" x="158" y="173.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="173" y="186.9883">loop</text><path d="M178,197.7305 L240,197.7305 L240,204.7305 L230,214.7305 L178,214.7305 L178,197.7305 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="193.1738" style="stroke: #000000; stroke-width: 2.0;" width="707" x="178" y="197.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="193" y="211.2988">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="255" y="210.3652">[is first iteration]</text><polygon fill="#A80036" points="799,232.3516,809,236.3516,799,240.3516,803,236.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="805" y1="236.3516" y2="236.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="262" y="231.6094">get transaction (txh_d)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="280.9727" y2="280.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="280.9727" y2="293.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="293.9727" y2="293.9727"/><polygon fill="#A80036" points="266,289.9727,256,293.9727,266,297.9727,262,293.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="262" y="260.9199">check if transaction is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="262" y="276.2305">self-set DID attestation</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="885" y1="302.9727" y2="302.9727"/><polygon fill="#A80036" points="656.5,321.2832,666.5,325.2832,656.5,329.2832,660.5,325.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="662.5" y1="325.2832" y2="325.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="262" y="320.541">get initial self-set DID attestation</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="369.9043" y2="369.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="369.9043" y2="382.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="382.9043" y2="382.9043"/><polygon fill="#A80036" points="266,378.9043,256,382.9043,266,386.9043,262,382.9043" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="262" y="349.8516">treat new account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="262" y="365.1621">as current account</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="419.2148" y2="419.2148"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="419.2148" y2="432.2148"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="432.2148" y2="432.2148"/><polygon fill="#A80036" points="266,428.2148,256,432.2148,266,436.2148,262,432.2148" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="262" y="414.4727">check if attestation is active</text><polygon fill="#A80036" points="526,472.8359,536,476.8359,526,480.8359,530,476.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="532" y1="476.8359" y2="476.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="262" y="456.7832">get self-set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="262" y="472.0938">DID attestations</text><path d="M168,491.8359 L242,491.8359 L242,498.8359 L232,508.8359 L168,508.8359 L168,491.8359 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="205.8184" style="stroke: #000000; stroke-width: 2.0;" width="248" x="168" y="491.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="183" y="505.4043">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="257" y="504.4707">[over found attestations]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="545.7676" y2="545.7676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="545.7676" y2="558.7676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="558.7676" y2="558.7676"/><polygon fill="#A80036" points="266,554.7676,256,558.7676,266,562.7676,262,558.7676" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="262" y="525.7148">treat found attestation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="262" y="541.0254">as current attestation</text><path d="M178,573.7676 L240,573.7676 L240,580.7676 L230,590.7676 L178,590.7676 L178,573.7676 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="116.8867" style="stroke: #000000; stroke-width: 2.0;" width="226" x="178" y="573.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="193" y="587.3359">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="255" y="586.4023">[is attestation deprecated]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="612.3887" y2="612.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="612.3887" y2="625.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="625.3887" y2="625.3887"/><polygon fill="#A80036" points="266,621.3887,256,625.3887,266,629.3887,262,625.3887" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="262" y="607.6465">break loop</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="404" y1="634.3887" y2="634.3887"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="183" y="645.0234">[is attestation deactivated]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="669.6543" y2="669.6543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="669.6543" y2="682.6543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="682.6543" y2="682.6543"/><polygon fill="#A80036" points="266,678.6543,256,682.6543,266,686.6543,262,682.6543" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="262" y="664.9121">stop DID resolution</text><path d="M178,711.6543 L240,711.6543 L240,718.6543 L230,728.6543 L178,728.6543 L178,711.6543 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="199" x="178" y="711.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="193" y="725.2227">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="255" y="724.2891">[is attestation active]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="750.2754" y2="750.2754"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="750.2754" y2="763.2754"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="763.2754" y2="763.2754"/><polygon fill="#A80036" points="266,759.2754,256,763.2754,266,767.2754,262,763.2754" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="262" y="745.5332">break loop</text><rect fill="#EEEEEE" filter="url(#f2l9gwn4sx6dv)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1048" x="3" y="838.5859"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1051" y1="838.5859" y2="838.5859"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1051" y1="841.5859" y2="841.5859"/><rect fill="#EEEEEE" filter="url(#f2l9gwn4sx6dv)" height="38.6211" style="stroke: #000000; stroke-width: 2.0;" width="243" x="405.5" y="820.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="229" x="411.5" y="836.8438">DID Document Template Retrieval</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="450.5" y="852.1543">(Ardor Cloud Storage)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="890.207" y2="890.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="890.207" y2="903.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="903.207" y2="903.207"/><polygon fill="#A80036" points="266,899.207,256,903.207,266,907.207,262,903.207" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="262" y="885.4648">extract cloud storage tx hash (txh_s)</text><polygon fill="#A80036" points="946,928.5176,956,932.5176,946,936.5176,950,932.5176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="952" y1="932.5176" y2="932.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="262" y="927.7754">get did document template (txh_s)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="977.1387" y2="977.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="977.1387" y2="990.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="990.1387" y2="990.1387"/><polygon fill="#A80036" points="266,986.1387,256,990.1387,266,994.1387,262,990.1387" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="262" y="957.0859">check if did document template is self-set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="262" y="972.3965">(by one of the found DID Controllers)</text><rect fill="#EEEEEE" filter="url(#f2l9gwn4sx6dv)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1048" x="3" y="1043.7939"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1051" y1="1043.7939" y2="1043.7939"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1051" y1="1046.7939" y2="1046.7939"/><rect fill="#EEEEEE" filter="url(#f2l9gwn4sx6dv)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="198" x="428" y="1033.1387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="434" y="1049.707">DID Document Preparation</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="1103.0703" y2="1103.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="1103.0703" y2="1116.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="1116.0703" y2="1116.0703"/><polygon fill="#A80036" points="266,1112.0703,256,1116.0703,266,1120.0703,262,1116.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="262" y="1083.0176">add DID informations to the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="262" y="1098.3281">DID Document Template</text><polygon fill="#A80036" points="68,1141.3809,58,1145.3809,68,1149.3809,64,1145.3809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="254" y1="1145.3809" y2="1145.3809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="74" y="1140.6387">return DID Document</text><!--MD5=[84c730c22be690c6a1eeec04818f1cc6]
@startuml
skinparam BoxPadding 15
skinparam ParticipantPadding 15


participant "Verifier" as VER
participant "DID Resolver" as RES
box "ARDOR Blockchain" #WhiteSmoke
    participant "Account" as ATTE
    participant "New Account" as NATTE
    participant "Tx Resolver" as TXR
    participant "Cloud Storage" as STR
end box



VER -> RES: read DID (did:bba:<txh_d>)
|||


== DID Attestation Parsing ==

loop
    alt is first iteration
        RES -> TXR: get transaction (txh_d)
        RES -> RES: check if transaction is\nself-set DID attestation
    else
        ' RES -> RES: store account name
        RES -> NATTE: get initial self-set DID attestation
        RES -> RES: treat new account\nas current account
    end

    RES -> RES: check if attestation is active
    RES -> ATTE: get self-set\nDID attestations

    loop over found attestations
        RES -> RES: treat found attestation\nas current attestation
        alt is attestation deprecated
            RES -> RES: break loop
        else is attestation deactivated
            RES -> RES: stop DID resolution
        end
    end
    alt is attestation active
        RES -> RES: break loop
    end
end
|||


== DID Document Template Retrieval\n(Ardor Cloud Storage) ==

RES -> RES: extract cloud storage tx hash (txh_s)
RES -> STR: get did document template (txh_s)
RES -> RES: check if did document template is self-set\n(by one of the found DID Controllers)
|||


== DID Document Preparation ==

RES -> RES: add DID informations to the\nDID Document Template
RES -> VER: return DID Document


@enduml

@startuml
skinparam BoxPadding 15
skinparam ParticipantPadding 15


participant "Verifier" as VER
participant "DID Resolver" as RES
box "ARDOR Blockchain" #WhiteSmoke
    participant "Account" as ATTE
    participant "New Account" as NATTE
    participant "Tx Resolver" as TXR
    participant "Cloud Storage" as STR
end box



VER -> RES: read DID (did:bba:<txh_d>)
|||


== DID Attestation Parsing ==

loop
    alt is first iteration
        RES -> TXR: get transaction (txh_d)
        RES -> RES: check if transaction is\nself-set DID attestation
    else
        RES -> NATTE: get initial self-set DID attestation
        RES -> RES: treat new account\nas current account
    end

    RES -> RES: check if attestation is active
    RES -> ATTE: get self-set\nDID attestations

    loop over found attestations
        RES -> RES: treat found attestation\nas current attestation
        alt is attestation deprecated
            RES -> RES: break loop
        else is attestation deactivated
            RES -> RES: stop DID resolution
        end
    end
    alt is attestation active
        RES -> RES: break loop
    end
end
|||


== DID Document Template Retrieval\n(Ardor Cloud Storage) ==

RES -> RES: extract cloud storage tx hash (txh_s)
RES -> STR: get did document template (txh_s)
RES -> RES: check if did document template is self-set\n(by one of the found DID Controllers)
|||


== DID Document Preparation ==

RES -> RES: add DID informations to the\nDID Document Template
RES -> VER: return DID Document


@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>