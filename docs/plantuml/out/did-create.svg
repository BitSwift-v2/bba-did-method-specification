<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="635px" preserveAspectRatio="none" style="width:696px;height:635px;" version="1.1" viewBox="0 0 696 635" width="696px" zoomAndPan="magnify"><defs><filter height="300%" id="f1r0kno3m99hi9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5F5F5" height="620.9453" style="stroke: #A80036; stroke-width: 1.0;" width="268" x="258" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="334.5" y="16.5684">Ardor Blockchain</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="81" x2="81" y1="58.7988" y2="586.457"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="314" x2="314" y1="58.7988" y2="586.457"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="449" x2="449" y1="58.7988" y2="586.457"/><rect fill="#FEFECE" filter="url(#f1r0kno3m99hi9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="23" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="30" y="43.8457">DID Controller</text><rect fill="#FEFECE" filter="url(#f1r0kno3m99hi9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="23" y="585.457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="30" y="605.9922">DID Controller</text><rect fill="#FEFECE" filter="url(#f1r0kno3m99hi9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="277" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="284" y="43.8457">Account</text><rect fill="#FEFECE" filter="url(#f1r0kno3m99hi9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="277" y="585.457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="284" y="605.9922">Account</text><rect fill="#FEFECE" filter="url(#f1r0kno3m99hi9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="391" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="398" y="43.8457">Cloud Storage</text><rect fill="#FEFECE" filter="url(#f1r0kno3m99hi9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="391" y="585.457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="398" y="605.9922">Cloud Storage</text><rect fill="#EEEEEE" filter="url(#f1r0kno3m99hi9)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="681" x="3" y="89.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="684" y1="89.4541" y2="89.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="684" y1="92.4541" y2="92.4541"/><rect fill="#EEEEEE" filter="url(#f1r0kno3m99hi9)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="103" x="292" y="78.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="298" y="95.3672">Precondition</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="123" y1="139.5752" y2="139.5752"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="139.5752" y2="152.5752"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="82" x2="123" y1="152.5752" y2="152.5752"/><polygon fill="#A80036" points="92,148.5752,82,152.5752,92,156.5752,88,152.5752" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="88" y="134.833">create Ardor account</text><path d="M231,117.1094 L231,157.1094 L478,157.1094 L478,127.1094 L468,117.1094 L231,117.1094 " fill="#FBFB77" filter="url(#f1r0kno3m99hi9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M468,117.1094 L468,127.1094 L478,127.1094 L468,117.1094 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="237" y="134.6777">Ardor account is master key.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="237" y="149.9883">Sub keys are used in DID Document</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="123" y1="188.041" y2="188.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="188.041" y2="201.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="82" x2="123" y1="201.041" y2="201.041"/><polygon fill="#A80036" points="92,197.041,82,201.041,92,205.041,88,201.041" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="88" y="183.2988">create DID Document Template</text><rect fill="#EEEEEE" filter="url(#f1r0kno3m99hi9)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="681" x="3" y="237.3516"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="684" y1="237.3516" y2="237.3516"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="684" y1="240.3516" y2="240.3516"/><rect fill="#EEEEEE" filter="url(#f1r0kno3m99hi9)" height="38.6211" style="stroke: #000000; stroke-width: 2.0;" width="231" x="228" y="219.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="217" x="234" y="235.6094">DID Document Template Storing</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="267" y="250.9199">(Ardor Cloud Storage)</text><polygon fill="#A80036" points="437,284.9727,447,288.9727,437,292.9727,441,288.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="443" y1="288.9727" y2="288.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="88" y="284.2305">store DID Document Template</text><polygon fill="#A80036" points="92,314.2832,82,318.2832,92,322.2832,88,318.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="86" x2="448" y1="318.2832" y2="318.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="98" y="313.541">return transaction hash -&gt; txh_s</text><rect fill="#EEEEEE" filter="url(#f1r0kno3m99hi9)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="681" x="3" y="371.9385"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="684" y1="371.9385" y2="371.9385"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="684" y1="374.9385" y2="374.9385"/><rect fill="#EEEEEE" filter="url(#f1r0kno3m99hi9)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="128" x="279.5" y="361.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="285.5" y="377.8516">DID Registration</text><polygon fill="#A80036" points="302,439.8701,312,443.8701,302,447.8701,306,443.8701" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="308" y1="443.8701" y2="443.8701"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="88" y="439.1279">create DID attestation</text><path d="M319,399.5938 L319,470.5938 L670,470.5938 L670,409.5938 L660,399.5938 L319,399.5938 " fill="#FBFB77" filter="url(#f1r0kno3m99hi9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M660,399.5938 L660,409.5938 L670,409.5938 L660,399.5938 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="325" y="417.1621">accountProperty: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="341" y="432.4727">property: did://&lt;did id&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="314" x="341" y="447.7832">value: 001|a|0000-0000-0000-00000|c|&lt;txh_s&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="325" y="463.0938">}</text><polygon fill="#A80036" points="92,497.1465,82,501.1465,92,505.1465,88,501.1465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="86" x2="313" y1="501.1465" y2="501.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="98" y="496.4043">return transaction hash -&gt; txh_d</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="123" y1="555.457" y2="555.457"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="123" y1="555.457" y2="568.457"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="82" x2="123" y1="568.457" y2="568.457"/><polygon fill="#A80036" points="92,564.457,82,568.457,92,572.457,88,568.457" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="88" y="550.7148">create DID -&gt; did:bba:&lt;txh_d&gt;</text><!--MD5=[d9fc993228ea96ffb86fdc6822a4eed7]
@startuml
skinparam BoxPadding 15
skinparam ParticipantPadding 15


participant "DID Controller" as DCR
box "Ardor Blockchain" #WhiteSmoke
    participant "Account" as ATTE
    participant "Cloud Storage" as STR
end box


== Precondition ==

DCR -> DCR: create Ardor account
note right
    Ardor account is master key.
    Sub keys are used in DID Document
end note
DCR -> DCR: create DID Document Template


== DID Document Template Storing\n(Ardor Cloud Storage) ==

DCR -> STR: store DID Document Template
STR - -> DCR: return transaction hash -> txh_s
|||


== DID Registration ==

DCR -> ATTE: create DID attestation
note right
    accountProperty: {
        property: did://<did id>,
        value: 001|a|0000-0000-0000-00000|c|<txh_s>
    }
end note
ATTE - -> DCR: return transaction hash -> txh_d
|||
DCR -> DCR: create DID -> did:bba:<txh_d>


@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>