<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="802px" preserveAspectRatio="none" style="width:1031px;height:802px;" version="1.1" viewBox="0 0 1031 802" width="1031px" zoomAndPan="magnify"><defs><filter height="300%" id="f94mkery7qthn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5F5F5" height="787.7617" style="stroke: #A80036; stroke-width: 1.0;" width="646" x="357" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="617.5" y="16.5684">ARDOR Blockchain</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="81" x2="81" y1="91.7754" y2="720.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="243" x2="243" y1="91.7754" y2="720.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="413" x2="413" y1="91.7754" y2="720.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="590" x2="590" y1="91.7754" y2="720.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="779" x2="779" y1="91.7754" y2="720.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="926" x2="926" y1="91.7754" y2="720.2969"/><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="23" y="56.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="30" y="76.8223">DID Controller</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="23" y="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="30" y="739.832">DID Controller</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="191" y="56.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="198" y="76.8223">DID Resolver</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="191" y="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="198" y="739.832">DID Resolver</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="376" y="56.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="383" y="76.8223">Account</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="376" y="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="383" y="739.832">Account</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="63.4648" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="490" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="543.5" y="43.8457">New Account</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="557" y="60.334">(ARDOR-</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="182" x="497" y="76.8223">1111-1111-1111-11111)</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="63.4648" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="490" y="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="543.5" y="739.832">New Account</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="557" y="756.3203">(ARDOR-</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="182" x="497" y="772.8086">1111-1111-1111-11111)</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="730" y="56.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="737" y="76.8223">Tx Resolver</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="730" y="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="737" y="739.832">Tx Resolver</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="868" y="56.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="875" y="76.8223">Cloud Storage</text><rect fill="#FEFECE" filter="url(#f94mkery7qthn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="868" y="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="875" y="739.832">Cloud Storage</text><rect fill="#EEEEEE" filter="url(#f94mkery7qthn)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1016" x="3" y="122.4307"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1019" y1="122.4307" y2="122.4307"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1019" y1="125.4307" y2="125.4307"/><rect fill="#EEEEEE" filter="url(#f94mkery7qthn)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="152" x="435" y="111.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="134" x="441" y="128.3438">DID Payload Update</text><polygon fill="#A80036" points="231,177.707,241,181.707,231,185.707,235,181.707" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="237" y1="181.707" y2="181.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="88" y="161.6543">update DID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="88" y="176.9648">Document Template</text><polygon fill="#A80036" points="767,232.0176,777,236.0176,767,240.0176,771,236.0176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="773" y1="236.0176" y2="236.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="250" y="231.2754">get attestation property (see DID Resolution)</text><polygon fill="#A80036" points="914,261.3281,924,265.3281,914,269.3281,918,265.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="920" y1="265.3281" y2="265.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="250" y="260.5859">store new DID Document Template</text><polygon fill="#A80036" points="254,290.6387,244,294.6387,254,298.6387,250,294.6387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="248" x2="925" y1="294.6387" y2="294.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="260" y="289.8965">return transaction hash -&gt; ntxh_s</text><polygon fill="#A80036" points="401,347.915,411,351.915,401,355.915,405,351.915" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="407" y1="351.915" y2="351.915"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="250" y="347.1729">self-update attestation</text><path d="M418,307.6387 L418,378.6387 L777,378.6387 L777,317.6387 L767,307.6387 L418,307.6387 " fill="#FBFB77" filter="url(#f94mkery7qthn)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M767,307.6387 L767,317.6387 L777,317.6387 L767,307.6387 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="424" y="325.207">accountProperty: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="440" y="340.5176">property: did://&lt;did id&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="440" y="355.8281">value: 001|a|0000-0000-0000-00000|a|&lt;ntxh_s&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="424" y="371.1387">}</text><rect fill="#EEEEEE" filter="url(#f94mkery7qthn)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1016" x="3" y="433.5361"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1019" y1="433.5361" y2="433.5361"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1019" y1="436.5361" y2="436.5361"/><rect fill="#EEEEEE" filter="url(#f94mkery7qthn)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="166" x="428" y="422.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="434" y="439.4492">DID Controller Update</text><polygon fill="#A80036" points="231,473.502,241,477.502,231,481.502,235,477.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="81" x2="237" y1="477.502" y2="477.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="88" y="472.7598">update DID Controller</text><polygon fill="#A80036" points="767,527.8125,777,531.8125,767,535.8125,771,531.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="773" y1="531.8125" y2="531.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="250" y="527.0703">get attestation property (see DID Resolution)</text><polygon fill="#A80036" points="401,585.0889,411,589.0889,401,593.0889,405,589.0889" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="407" y1="589.0889" y2="589.0889"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="250" y="584.3467">self-update attestation</text><path d="M418,544.8125 L418,615.8125 L778,615.8125 L778,554.8125 L768,544.8125 L418,544.8125 " fill="#FBFB77" filter="url(#f94mkery7qthn)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M768,544.8125 L768,554.8125 L778,554.8125 L768,544.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="424" y="562.3809">accountProperty: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="440" y="577.6914">pproperty: did://&lt;did id&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="323" x="440" y="593.002">value: 001|d|1111-1111-1111-11111|a|&lt;ntxh_s&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="424" y="608.3125">}</text><polygon fill="#A80036" points="578,670.3311,588,674.3311,578,678.3311,582,674.3311" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="584" y1="674.3311" y2="674.3311"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="250" y="669.5889">self-attest new account</text><path d="M595,630.0547 L595,701.0547 L954,701.0547 L954,640.0547 L944,630.0547 L595,630.0547 " fill="#FBFB77" filter="url(#f94mkery7qthn)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M944,630.0547 L944,640.0547 L954,640.0547 L944,630.0547 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="601" y="647.623">accountProperty: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="617" y="662.9336">property: did://&lt;did id&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="617" y="678.2441">value: 001|a|0000-0000-0000-00000|a|&lt;ntxh_s&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="601" y="693.5547">}</text><!--MD5=[619ed9594bbdf10bbcccdb50ef064287]
@startuml
skinparam BoxPadding 15
skinparam ParticipantPadding 15


participant "DID Controller" as USR
participant "DID Resolver" as RES
box "ARDOR Blockchain" #WhiteSmoke
    participant "Account" as ATTE
    participant "New Account\n(ARDOR-\n1111-1111-1111-11111)" as NATTE
    participant "Tx Resolver" as TXR
    participant "Cloud Storage" as STR
end box


== DID Payload Update ==

USR -> RES: update DID\nDocument Template
|||
RES -> TXR: get attestation property (see DID Resolution)
RES -> STR: store new DID Document Template
STR - -> RES: return transaction hash -> ntxh_s
RES -> ATTE: self-update attestation
note right
    accountProperty: {
        property: did://<did id>,
        value: 001|a|0000-0000-0000-00000|a|<ntxh_s>
    }
end note
|||


== DID Controller Update ==

USR -> RES: update DID Controller
|||
RES -> TXR: get attestation property (see DID Resolution)
RES -> ATTE: self-update attestation
note right
    accountProperty: {
        pproperty: did://<did id>,
        value: 001|d|1111-1111-1111-11111|a|<ntxh_s>
    }
end note
RES -> NATTE: self-attest new account
note right
    accountProperty: {
        property: did://<did id>,
        value: 001|a|0000-0000-0000-00000|a|<ntxh_s>
    }
end note


@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>