<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1435px" preserveAspectRatio="none" style="width:1062px;height:1435px;" version="1.1" viewBox="0 0 1062 1435" width="1062px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pnjmtx9xu8oz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5F5F5" height="1420.1113" style="stroke: #A80036; stroke-width: 1.0;" width="553" x="481" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="695" y="16.5684">ARDOR Blockchain</text><rect fill="#FFFFFF" filter="url(#f1pnjmtx9xu8oz)" height="829.7188" style="stroke: #000000; stroke-width: 2.0;" width="737" x="157" y="216.7305"/><rect fill="#FFFFFF" filter="url(#f1pnjmtx9xu8oz)" height="177.8633" style="stroke: #000000; stroke-width: 2.0;" width="707" x="177" y="241.041"/><rect fill="#FFFFFF" height="88.9316" style="stroke: none; stroke-width: 1.0;" width="707" x="177" y="329.9727"/><rect fill="#FFFFFF" filter="url(#f1pnjmtx9xu8oz)" height="190.5078" style="stroke: #000000; stroke-width: 2.0;" width="240" x="167" y="775.3203"/><rect fill="#FFFFFF" filter="url(#f1pnjmtx9xu8oz)" height="116.8867" style="stroke: #000000; stroke-width: 2.0;" width="220" x="177" y="841.9414"/><rect fill="#FFFFFF" height="57.2656" style="stroke: none; stroke-width: 1.0;" width="220" x="177" y="901.5625"/><rect fill="#FFFFFF" filter="url(#f1pnjmtx9xu8oz)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="184" x="177" y="979.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="57" x2="57" y1="58.7988" y2="1385.623"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="254" x2="254" y1="58.7988" y2="1385.623"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="537" x2="537" y1="58.7988" y2="1385.623"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="667" x2="667" y1="58.7988" y2="1385.623"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="810" x2="810" y1="58.7988" y2="1385.623"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="957" x2="957" y1="58.7988" y2="1385.623"/><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="23" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="30" y="43.8457">Verifier</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="23" y="1384.623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="30" y="1405.1582">Verifier</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="202" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="209" y="43.8457">DID Resolver</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="202" y="1384.623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="209" y="1405.1582">DID Resolver</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="500" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="507" y="43.8457">Account</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="500" y="1384.623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="507" y="1405.1582">Account</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="614" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="621" y="43.8457">New Account</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="614" y="1384.623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="621" y="1405.1582">New Account</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="761" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="768" y="43.8457">Tx Resolver</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="761" y="1384.623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="768" y="1405.1582">Tx Resolver</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="899" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="906" y="43.8457">Cloud Storage</text><rect fill="#FEFECE" filter="url(#f1pnjmtx9xu8oz)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="899" y="1384.623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="906" y="1405.1582">Cloud Storage</text><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1047" x="3" y="89.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="89.4541" y2="89.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="92.4541" y2="92.4541"/><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="117" x="468" y="78.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="474" y="95.3672">DID Resolution</text><polygon fill="#A80036" points="242,129.4199,252,133.4199,242,137.4199,246,133.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="248" y1="133.4199" y2="133.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="64" y="128.6777">read DID (did:baa:&lt;txh_d&gt;)</text><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1047" x="3" y="187.0752"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="187.0752" y2="187.0752"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="190.0752" y2="190.0752"/><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="189" x="432" y="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="438" y="192.9883">parse DID Controller Path</text><path d="M157,216.7305 L231,216.7305 L231,223.7305 L221,233.7305 L157,233.7305 L157,216.7305 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="829.7188" style="stroke: #000000; stroke-width: 2.0;" width="737" x="157" y="216.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="172" y="230.2988">loop</text><path d="M177,241.041 L239,241.041 L239,248.041 L229,258.041 L177,258.041 L177,241.041 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="177.8633" style="stroke: #000000; stroke-width: 2.0;" width="707" x="177" y="241.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="192" y="254.6094">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="254" y="253.6758">[is first iteration]</text><polygon fill="#A80036" points="798,275.6621,808,279.6621,798,283.6621,802,279.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="804" y1="279.6621" y2="279.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="261" y="274.9199">get initial attestation transaction (txh_d)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="308.9727" y2="308.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="308.9727" y2="321.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="321.9727" y2="321.9727"/><polygon fill="#A80036" points="265,317.9727,255,321.9727,265,325.9727,261,321.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="261" y="304.2305">save account name</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="177" x2="884" y1="330.9727" y2="330.9727"/><polygon fill="#A80036" points="655.5,349.2832,665.5,353.2832,655.5,357.2832,659.5,353.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="661.5" y1="353.2832" y2="353.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="261" y="348.541">get initial attestation transaction</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="397.9043" y2="397.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="397.9043" y2="410.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="410.9043" y2="410.9043"/><polygon fill="#A80036" points="265,406.9043,255,410.9043,265,414.9043,261,410.9043" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="261" y="377.8516">treat new account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="261" y="393.1621">as current account</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="462.5254" y2="462.5254"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="462.5254" y2="475.5254"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="475.5254" y2="475.5254"/><polygon fill="#A80036" points="265,471.5254,255,475.5254,265,479.5254,261,475.5254" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="261" y="442.4727">check if tx is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="261" y="457.7832">account property</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="520.1465" y2="520.1465"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="520.1465" y2="533.1465"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="533.1465" y2="533.1465"/><polygon fill="#A80036" points="265,529.1465,255,533.1465,265,537.1465,261,533.1465" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="261" y="500.0938">check if account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="261" y="515.4043">property is self-set</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="577.7676" y2="577.7676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="577.7676" y2="590.7676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="590.7676" y2="590.7676"/><polygon fill="#A80036" points="265,586.7676,255,590.7676,265,594.7676,261,590.7676" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="261" y="557.7148">check account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="261" y="573.0254">property name (didId)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="635.3887" y2="635.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="635.3887" y2="648.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="648.3887" y2="648.3887"/><polygon fill="#A80036" points="265,644.3887,255,648.3887,265,652.3887,261,648.3887" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="261" y="615.3359">check formal validity of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="261" y="630.6465">attestation string</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="677.6992" y2="677.6992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="677.6992" y2="690.6992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="690.6992" y2="690.6992"/><polygon fill="#A80036" points="265,686.6992,255,690.6992,265,694.6992,261,690.6992" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="261" y="672.957">check if attestation is active</text><polygon fill="#A80036" points="525,756.3203,535,760.3203,525,764.3203,529,760.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="531" y1="760.3203" y2="760.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="261" y="740.2676">get self-set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="261" y="755.5781">attestation properties</text><path d="M167,775.3203 L241,775.3203 L241,782.3203 L231,792.3203 L167,792.3203 L167,775.3203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="190.5078" style="stroke: #000000; stroke-width: 2.0;" width="240" x="167" y="775.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="182" y="788.8887">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="256" y="787.9551">[over found attestations]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="813.9414" y2="813.9414"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="813.9414" y2="826.9414"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="826.9414" y2="826.9414"/><polygon fill="#A80036" points="265,822.9414,255,826.9414,265,830.9414,261,826.9414" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="261" y="809.1992">parse attestation</text><path d="M177,841.9414 L239,841.9414 L239,848.9414 L229,858.9414 L177,858.9414 L177,841.9414 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="116.8867" style="stroke: #000000; stroke-width: 2.0;" width="220" x="177" y="841.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="192" y="855.5098">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="254" y="854.5762">[is account deprecated]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="880.5625" y2="880.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="880.5625" y2="893.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="893.5625" y2="893.5625"/><polygon fill="#A80036" points="265,889.5625,255,893.5625,265,897.5625,261,893.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="261" y="875.8203">break loop</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="177" x2="397" y1="902.5625" y2="902.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="182" y="913.1973">[is account deactivated]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="937.8281" y2="937.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="937.8281" y2="950.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="950.8281" y2="950.8281"/><polygon fill="#A80036" points="265,946.8281,255,950.8281,265,954.8281,261,950.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="261" y="933.0859">stop DID resolution</text><path d="M177,979.8281 L239,979.8281 L239,986.8281 L229,996.8281 L177,996.8281 L177,979.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="184" x="177" y="979.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="192" y="993.3965">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="254" y="992.4629">[is account active]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="1018.4492" y2="1018.4492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="1018.4492" y2="1031.4492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="1031.4492" y2="1031.4492"/><polygon fill="#A80036" points="265,1027.4492,255,1031.4492,265,1035.4492,261,1031.4492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="261" y="1013.707">break loop</text><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1047" x="3" y="1099.1045"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="1099.1045" y2="1099.1045"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="1102.1045" y2="1102.1045"/><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="209" x="422" y="1088.4492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="428" y="1105.0176">get DID Document Template</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="1143.0703" y2="1143.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="1143.0703" y2="1156.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="1156.0703" y2="1156.0703"/><polygon fill="#A80036" points="265,1152.0703,255,1156.0703,265,1160.0703,261,1156.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="261" y="1138.3281">extract cloud storage tx hash (txh_s)</text><polygon fill="#A80036" points="945,1181.3809,955,1185.3809,945,1189.3809,949,1185.3809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="951" y1="1185.3809" y2="1185.3809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="261" y="1180.6387">get did document template (txh_s)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="1214.6914" y2="1214.6914"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="1214.6914" y2="1227.6914"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="1227.6914" y2="1227.6914"/><polygon fill="#A80036" points="265,1223.6914,255,1227.6914,265,1231.6914,261,1227.6914" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="261" y="1209.9492">check if did document template is self-set</text><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1047" x="3" y="1281.3467"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="1281.3467" y2="1281.3467"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1050" y1="1284.3467" y2="1284.3467"/><rect fill="#EEEEEE" filter="url(#f1pnjmtx9xu8oz)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="162" x="445.5" y="1270.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="451.5" y="1287.2598">return DID Document</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="254" x2="296" y1="1325.3125" y2="1325.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="296" x2="296" y1="1325.3125" y2="1338.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="296" y1="1338.3125" y2="1338.3125"/><polygon fill="#A80036" points="265,1334.3125,255,1338.3125,265,1342.3125,261,1338.3125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="261" y="1320.5703">prepare DID Document</text><polygon fill="#A80036" points="68,1363.623,58,1367.623,68,1371.623,64,1367.623" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="62" x2="253" y1="1367.623" y2="1367.623"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="74" y="1362.8809">return DID Document</text><!--MD5=[8f381e218263393f342832c4726f6707]
@startuml
skinparam BoxPadding 15
skinparam ParticipantPadding 15


participant "Verifier" as USR
participant "DID Resolver" as RES
box "ARDOR Blockchain" #WhiteSmoke
    participant "Account" as ATTE
    participant "New Account" as NATTE
    participant "Tx Resolver" as TXR
    participant "Cloud Storage" as STR
end box


== DID Resolution ==


USR -> RES: read DID (did:baa:<txh_d>)
|||
== parse DID Controller Path ==
loop
    alt is first iteration
        RES -> TXR: get initial attestation transaction (txh_d)
        RES -> RES: save account name
    else
        RES -> NATTE: get initial attestation transaction
        RES -> RES: treat new account\nas current account
    end
    RES -> RES: check if tx is\naccount property
    RES -> RES: check if account\nproperty is self-set
    RES -> RES: check account\nproperty name (didId)
    RES -> RES: check formal validity of\nattestation string
    RES -> RES: check if attestation is active
    |||
    RES -> ATTE: get self-set\nattestation properties
    loop over found attestations
        RES -> RES: parse attestation
        alt is account deprecated
            RES -> RES: break loop
        else is account deactivated
            RES -> RES: stop DID resolution
        end
    end
    alt is account active
        RES -> RES: break loop
    end
end
|||
== get DID Document Template ==
RES -> RES: extract cloud storage tx hash (txh_s)
RES -> STR: get did document template (txh_s)
RES -> RES: check if did document template is self-set 
|||
== return DID Document ==
RES -> RES: prepare DID Document
RES - -> USR: return DID Document


@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>